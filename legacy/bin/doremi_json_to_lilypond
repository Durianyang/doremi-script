#!/usr/bin/env node
// Command line tool to take json output of parser and transform it to lilypond.
var path = require('path');
var fs = require('fs');
var lib = path.join(path.dirname(fs.realpathSync(__filename)), '../lib');
var util=require('util')
_console = require(lib+'/doremi_script_base/underscore.logger.js') 
_console.level  = _console.constructor.WARN
_ = require("underscore")._ 
_.mixin(_console.toObject())
var to_lilypond=require(lib+'/doremi_script_base/to_lilypond.js').to_lilypond
var source= fs.readFileSync('/dev/stdin').toString()
var parsedSource=JSON.parse(source)
process.stdout.write(to_lilypond(parsedSource))
