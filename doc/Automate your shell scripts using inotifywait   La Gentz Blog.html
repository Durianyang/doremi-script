<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head><link rel="stylesheet" type="text/css" href="http://blog.lagentz.com/wp-content/w3tc/min/1621da5b.f6335b.css" media="all" />
<script type="text/javascript" src="http://blog.lagentz.com/wp-content/w3tc/min/c8e31409.7c5b1f.js"></script>
<meta charset="UTF-8" />
<title>Automate your shell scripts using inotifywait | La Gentz Blog</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />





<link rel="pingback" href="http://blog.lagentz.com/xmlrpc.php" />
<script type='text/javascript'>var TBRUM=TBRUM||{};TBRUM.q=TBRUM.q||[];TBRUM.q.push(['mark','firstbyte',(new Date).getTime()]);(function(){var a=document.createElement('script');a.type='text/javascript';a.async=true;a.src=document.location.protocol+'//insight.torbit.com/v1/insight.min.js';var b=document.getElementsByTagName('script')[0];b.parentNode.insertBefore(a,b)})();</script><link rel="alternate" type="application/rss+xml" title="La Gentz Blog &raquo; Feed" href="http://blog.lagentz.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="La Gentz Blog &raquo; Comments Feed" href="http://blog.lagentz.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="La Gentz Blog &raquo; Automate your shell scripts using inotify and inotifywait Comments Feed" href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/feed/" />
<link rel='stylesheet' id='nrelate-style-common-0-05-1-css'  href='http://static.nrelate.com/common_wp/0.05.1/nrelate-panels-common.min.css' type='text/css' media='all' />


<!--[if IE 6]>
<link rel='stylesheet' id='nrelate-ie6-0-05-1-css'  href='http://static.nrelate.com/common_wp/0.05.1/ie6-panels.min.css' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='nrelate-style-huf-0-05-1-css'  href='http://static.nrelate.com/common_wp/0.05.1/nrelate-panels-huf.min.css' type='text/css' media='all' />











<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.lagentz.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.lagentz.com/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='La Gentz Blog' href='http://blog.lagentz.com/' />
<link rel='start' title='Welcome to the La Gentz Development Blog!' href='http://blog.lagentz.com/general/welcome-to-the-la-gentz-development-blog/' />
<link rel='prev' title='How to build a special purpose browser' href='http://blog.lagentz.com/general/how-to-build-a-special-purpose-browser/' />
<link rel='next' title='Benchmarking inside virtual environments (Time is relative)' href='http://blog.lagentz.com/general/benchmarking-inside-virtual-environments-time-is-relative/' />
<meta name="generator" content="WordPress 3.1.3" />
<link rel='shortlink' href='http://blog.lagentz.com/?p=339' />

<!-- All in One SEO Pack 1.6.14.6 by Michael Torbert of Semper Fi Web Design[78,158] -->
<meta name="description" content="Automatically run a bash script if something changes inside a directory - inotifywait upgrades your simple bash scripts" />
<meta name="keywords" content="automation,bash,development,pdf" />
<link rel="canonical" href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/" />
<!-- /all in one seo pack -->
		<script type="text/javascript" data-cfasync="false">
			var _usersnapconfig = {
				apiKey: 'd641d98a-0feb-49fc-bea4-61aaed2fc859',
				valign: 'bottom',
				halign: 'right',
				tools: ['pen','highlight','note'],emailBox: true,btnText: 'Feedback',commentBox: true,lang: 'en'
			}; 
			(function() {
			    var s = document.createElement('script');
			    s.type = 'text/javascript';
			    s.async = true;
			    s.src = '//api.usersnap.com/usersnap.js';
			    var x = document.getElementsByTagName('head')[0];
			    x.appendChild(s);
			})();
		</script>
		<!-- Google Analytics Tracking by Google Analyticator 6.2: http://ronaldheft.com/code/analyticator/ -->
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-21499741-1']);
	_gaq.push(['_trackPageview']);
	_gaq.push(['_trackPageLoadTime']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>



</head>

<body class="single single-post postid-339 single-format-standard">
<div id="wrapper" class="hfeed">
	<div id="header">
		<div id="masthead">
			<div id="branding" role="banner">
								<div id="site-title">
					<span>
						<a href="http://blog.lagentz.com/" title="La Gentz Blog" rel="home">
<img src="http://blog.lagentz.com/wp-content/uploads/2011/08/lagentz-logo.png" alt="La Gentz" />
<img id="blogimg" src="http://blog.lagentz.com/wp-content/uploads/2011/08/blog.png" alt="Blog" />
<!--La Gentz Blog-->
</a>
					</span>
				</div>
				<div id="site-description"></div>

							</div><!-- #branding -->

			<div id="access" role="navigation">
			  				<div class="skip-link screen-reader-text"><a href="#content" title="Skip to content">Skip to content</a></div>
								<div class="menu"><ul><li ><a href="http://blog.lagentz.com/" title="Home">Home</a></li><li class="page_item page-item-37"><a href="http://blog.lagentz.com/legal-information/" title="Contact / Legal Info">Contact / Legal Info</a></li></ul></div>
			</div><!-- #access -->
		</div><!-- #masthead -->
	</div><!-- #header -->

	<div id="main">

		<div id="container">
			<div id="content" role="main">

			

				<div id="nav-above" class="navigation">
					<div class="nav-previous"><a href="http://blog.lagentz.com/general/how-to-build-a-special-purpose-browser/" rel="prev"><span class="meta-nav">&larr;</span> How to build a special purpose browser</a></div>
					<div class="nav-next"><a href="http://blog.lagentz.com/general/benchmarking-inside-virtual-environments-time-is-relative/" rel="next">Benchmarking inside virtual environments (Time is relative) <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-above -->

				<div id="post-339" class="post-339 post type-post status-publish format-standard hentry category-general tag-automation tag-bash tag-development tag-pdf">
					<h1 class="entry-title">Automate your shell scripts using inotify and inotifywait</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/" title="10:43" rel="bookmark"><span class="entry-date">2012/08/28</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://blog.lagentz.com/author/gregi/" title="View all posts by Gregor Dorfbauer">Gregor Dorfbauer</a></span>					</div><!-- .entry-meta -->

					<div class="entry-content">
						<a id="dd_start"></a><p>Everybody has some utility scripts and bash lines which help in the daily business as a developer.<br />
Imagine a life without &#8220;<a href="http://linux.byexamples.com/archives/195/remove-all-svn-directories-at-once/" target="_blank">Remove all .svn directories from a path</a>&#8220;, &#8220;<a href="http://www.ubuntugeek.com/how-to-find-duplicate-copies-of-files-using-fdupes-in-ubuntu.html" target="_blank">Find duplicate files and remove them</a>&#8220; or &#8220;Watermark a PDF file&#8221;.<br />
How about a script which does this automatically? How to write a poor man&#8217;s <a href="http://ifttt.com/" target="_blank">IFTTT</a> in a few lines!<br />
<span id="more-339"></span></p>
<h2>The bash script: watermark a PDF</h2>
<p>Using pdftk it&#8217;s very easy to watermark (e.g. add a corporate letterhead to a PDF) an existing file:</p>
<pre class="brush: shell; auto-links: false;">
#!/bin/bash
INFILE=$1
OUTFILE=$2

BACKGROUND=data/letterhead.pdf
if [ $# -eq 2 ]; then
pdftk "$INFILE" stamp $BACKGROUND output "$OUTFILE" allow printing compress
else
echo "Two parameters are required. (1. input pdf 2. resultfile)"
fi
</pre>
<p>You can invoke this script with an input file and an output file name, and the new file will get a Stamp / Watermark / Background image and will be saved to the output file path.</p>
<p>Excellent, this script works very well &#8211; but everytime you want to polish your PDFs you will have to remember the script name and the parameters. We should automate it.</p>
<h2>Automation using cron</h2>
<p>To automate the behaviour, add a cron job which executes this script for all new files inside a directory.</p>
<p>The script watermark_all.sh is called by cron every minute, watches for new pdf files inside a directory, watermarks them and starts over again in one minute.</p>
<pre class="brush: shell; auto-links: false;">
#!/bin/bash

WORKINGDIR=/home/user/pdfs

cd $WORKINGDIR
mkdir -p naked

for file in *.pdf; do
if [ $file == "*.pdf" ]; then
break
fi
newfile=${file/.pdf/-BP.pdf}
./watermark_script.sh "$file" "$newfile";

mv "$file" naked
mv "$newfile" ../
done;
</pre>
<p>This works, but usually, you want your file converted just <em>now</em> and not <em>in a few minutes</em>.</p>
<h2>Best solution for instant results: inotifywait</h2>
<p>Most of the time, the script from above has pointless effort. There will be no new files, but, in the moment there are new files, it will take 30s to detect the change on average.</p>
<p><a title="inotify" href="http://en.wikipedia.org/wiki/Inotify" target="_blank">Inotify</a> is a great way to monitor file system changes, and with the great tool <strong>inotifywait</strong> ( found in <em>inotify-tools</em> package in Ubuntu) it&#8217;s even utilizeable in Bash scripts.</p>
<pre class="brush: shell; auto-links: false;">
#!/bin/bash
while true; do

inotifywait -e create /home/user/pdfs  &amp;&amp; \
./watermark_all.sh

done
</pre>
<p><strong>Inotifywait</strong> creates an inotify watch on the directory /home/user/pdfs and waits until a file is created. In this event, inotifywait terminates and the ./watermark_all.sh script from above will be executed.</p>
<p>Great &#8211; Immediate results <img src='http://blog.lagentz.com/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
<h2>Automate your daily business</h2>
<p>Use inotifywait for nearly everything scriptable! Check your JavaScript files with <a title="JSLint" href="http://www.jslint.com/" target="_blank">JSLint</a>/<a title="JSHint" href="http://www.jshint.com/" target="_blank">JSHint</a> right upon the save or even start analyzing your log files just after a log rotation. If you want to gather file system statistics really fast and easy, have a look at inotifywatch. You will see what happens inside a directory on a file system call level.</p>
<p>Tip: If you want to automate your cloud folders, have a look at <a href="http://wappwolf.com/dropboxautomator/" target="_blank">wappwolf.com</a>, they offer a similar approach inside the cloud using many different file conversion apps.</p>
<a id="dd_end"></a><div class='dd_outer'><div class='dd_inner'><div id='dd_ajax_float'><div class='dd_button_v'><div class='dd-twitter-ajax-load dd-twitter-339'></div><a href="http://twitter.com/share" class="twitter-share-button" data-url="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/" data-count="vertical" data-text="Automate your shell scripts using inotify and inotifywait" data-via="lagentz" ></a></div><div style='clear:left'></div><div class='dd_button_v'><a href="http://bufferapp.com/add" class="buffer-add-button" data-count="vertical" data-url="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/" data-via="lagentz"></a></div><div style='clear:left'></div><div class='dd_button_v'><script src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script><fb:like href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/" send="false" show_faces="false"  layout="box_count" width="50"  ></fb:like></div><div style='clear:left'></div><div class='dd_button_v'><div class='dd-google1-ajax-load dd-google1-339'></div><g:plusone size='tall' href='http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/'></g:plusone></div><div style='clear:left'></div><div class='dd_button_v'><div class='dd-linkedin-ajax-load dd-linkedin-339'></div><script type='IN/share' data-url='http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/' data-counter='top'></script></div><div style='clear:left'></div></div></div></div><script type="text/javascript">var dd_offset_from_content = 40;var dd_top_offset_from_content = 0;var dd_override_start_anchor_id = "";var dd_override_top_offset = "";</script><script type="text/javascript" src="http://blog.lagentz.com/wp-content/plugins/digg-digg//js/diggdigg-floating-bar.js?ver=5.3.6"></script><script type="text/javascript"> jQuery(document).ready(function($) { window.setTimeout('loadTwitter_339()',1000);window.setTimeout('loadBuffer_339()',1000);window.setTimeout('loadGoogle1_339()',1000);window.setTimeout('loadLinkedin_339()',1000); }); </script><script type="text/javascript"> function loadTwitter_339(){ jQuery(document).ready(function($) { $('.dd-twitter-339').remove();$.getScript('http://platform.twitter.com/widgets.js'); }); }function loadBuffer_339(){ jQuery(document).ready(function($) { $('.dd-buffer-339').remove();$.getScript('http://static.bufferapp.com/js/button.js'); }); } function loadGoogle1_339(){ jQuery(document).ready(function($) { $('.dd-google1-339').remove();$.getScript('https://apis.google.com/js/plusone.js'); }); } function loadLinkedin_339(){ jQuery(document).ready(function($) { $('.dd-linkedin-339').remove();$.getScript('http://platform.linkedin.com/in.js'); }); }</script>
<div class="nr_clear"></div>	
	<div id="nrelate_related_1" class="nrelate nrelate_related nrelate_huf nr_1col nr_80"><h3 class="nr_title"><span>You may also like:</span></h3><div class="nr_inner"><a class="nr_panel nr_rc_link nr_link nr_internal" data-tracking-params="{&quot;nrid&quot;:&quot;0baa01a000971520161bc9780371c6c4&quot;}" href="http://blog.lagentz.com/general/usersnap-gets-a-new-blog/"><span class="nr_img_div"><img class="nr_img" src="http://imgcdn.nrelate.com/common_wp/default_images/80_80/art-rhododendron-flower.jpg" style="height:80px; width:80px;" alt="Usersnap gets a new blog!" title="Usersnap gets a new blog!"/></span><span class="nr_text"><span class="nr_post_title">Usersnap gets a new blog!</span><span class="nr_excerpt">Usersnap , a tool to get visual feedback from your website is growing rapidly - so we're excited to announce, that  Usersnap got its ... </span></span></a><a class="nr_panel nr_rc_link nr_link nr_internal" data-tracking-params="{&quot;nrid&quot;:&quot;23d7bb5c5bf3f0fb4b1929098d61bcf7&quot;}" href="http://blog.lagentz.com/general/how-to-compile-and-build-a-qtwebkit-application-with-ms-visual-studio-2008/"><span class="nr_img_div"><img class="nr_img" src="http://imgcdn.nrelate.com/image_cache/blog.lagentz.com/5a457e8b5a0df1af1339a327d8da78a2_thumb_VS-Qt-Project-300x247.png" style="height:80px; width:80px;" alt="How to compile and build a QtWebkit application with MS Visual Studio 2008" title="How to compile and build a QtWebkit application with MS Visual Studio 2008"/></span><span class="nr_text"><span class="nr_post_title">How to compile and build a QtWebkit application with MS Visual Studio 2008</span><span class="nr_excerpt">Sometimes you want to use a modern browser (read: not Internet Explorer 6.0 for instance) inside your client application, in order to display external ... </span></span></a><a class="nr_panel nr_rc_link nr_link nr_internal" data-tracking-params="{&quot;nrid&quot;:&quot;08ab6fd9c08ce572ce47d88f1b63eab5&quot;}" href="http://blog.lagentz.com/general/svn-branching-as-easy-as-git/"><span class="nr_img_div"><img class="nr_img" src="http://imgcdn.nrelate.com/common_wp/default_images/80_80/cut-log.jpg" style="height:80px; width:80px;" alt="SVN Branching as easy as Git" title="SVN Branching as easy as Git"/></span><span class="nr_text"><span class="nr_post_title">SVN Branching as easy as Git</span><span class="nr_excerpt">SVN branching is a little super painful on the command line. For all those who worked with git a single minute of their lives, ... </span></span></a><div style="clear:both;"></div></div> <script type="text/javascript"> nRelate.getNrelatePosts("http://api.nrelate.com/rcw_wp/0.51.2/nr_load.php?tag=nrelate_related&keywords=Automate+your+shell+scripts+using+inotify+and+inotifywait&domain=blog.lagentz.com&url=http%3A%2F%2Fblog.lagentz.com%2Fgeneral%2Fautomate-your-shell-scripts-using-inotify-and-inotifywait%2F&nr_ad_number=0&nr_div_number=1");</script></div>
	<!--[if IE 6]>
		<script type="text/javascript">jQuery('.nrelate_huf').removeClass('nrelate_huf');</script>
	<![endif]-->
	<script type="text/javascript">nRelate.domain = "blog.lagentz.com";nRelate.fixHeight("nrelate_related_1");nRelate.adAnimation("nrelate_related_1");nRelate.tracking("rc");</script>
	
<div class="nr_clear"></div><div class="post_author_plugin"><div id="post_author_avatar"><a href="http://blog.lagentz.com/author/gregi/" title="More about Gregor Dorfbauer "><img src="http://blog.lagentz.com/wp-content/plugins/user-avatar/user-avatar-pic.php?src=http://blog.lagentz.com/wp-content/uploads/avatars/2/1298901201-bpfull.jpg&#038;w=32&#038;id=2&#038;random=1298901201" alt="More about Gregor Dorfbauer" class=" avatar  avatar-32  photo user-2-avatar" width="32" height="32" /></a></div><span id="post_author_author">Written by:  <a href="http://blog.lagentz.com/author/gregi/" title="More about Gregor Dorfbauer ">Gregor Dorfbauer</a> </span><span id="post_author_create">on 2012/08/28.</span></div>											</div><!-- .entry-content -->


					<div class="entry-utility">
						This entry was posted in <a href="http://blog.lagentz.com/category/general/" title="View all posts in General" rel="category tag">General</a> and tagged <a href="http://blog.lagentz.com/tag/automation/" rel="tag">automation</a>, <a href="http://blog.lagentz.com/tag/bash/" rel="tag">bash</a>, <a href="http://blog.lagentz.com/tag/development/" rel="tag">development</a>, <a href="http://blog.lagentz.com/tag/pdf/" rel="tag">pdf</a>. Bookmark the <a href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/" title="Permalink to Automate your shell scripts using inotify and inotifywait" rel="bookmark">permalink</a>.											</div><!-- .entry-utility -->
				</div><!-- #post-## -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://blog.lagentz.com/general/how-to-build-a-special-purpose-browser/" rel="prev"><span class="meta-nav">&larr;</span> How to build a special purpose browser</a></div>
					<div class="nav-next"><a href="http://blog.lagentz.com/general/benchmarking-inside-virtual-environments-time-is-relative/" rel="next">Benchmarking inside virtual environments (Time is relative) <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
			<div id="comments">


			<h3 id="comments-title">12 Responses to <em>Automate your shell scripts using inotify and inotifywait</em></h3>


			<ol class="commentlist">
					<li class="comment even thread-even depth-1" id="li-comment-7314">
		<div id="comment-7314">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/5ddafab2b2688d13643406ef4479bef7?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' align='' />			<cite class="fn">Sebastian Andersson</cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/#comment-7314">
			2012/08/28 at 12:33</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>What if the new file was created before inotifywait starts?</p>
<p>Perhaps this works better?<br />
<code><br />
(echo start; inotifywait -m -e create /home/user/pdfs) |<br />
while read file; do<br />
    ./watermark_all.sh;<br />
done<br />
</code></p>
<p>The extra echo is needed to run watermark_all.sh when this is first started.</p>
</div>

		<div class="reply">
					</div><!-- .reply -->
	</div><!-- #comment-##  -->

	<ul class='children'>
	<li class="comment byuser comment-author-gregi bypostauthor odd alt depth-2" id="li-comment-7317">
		<div id="comment-7317">
		<div class="comment-author vcard">
			<img src="http://blog.lagentz.com/wp-content/plugins/user-avatar/user-avatar-pic.php?src=http://blog.lagentz.com/wp-content/uploads/avatars/2/1298901201-bpfull.jpg&#038;w=40&#038;id=2&#038;random=1298901201" alt="" class=" avatar  avatar-40  photo user-2-avatar" width="40" height="40" />			<cite class="fn"><a href='http://www.lagentz.at' rel='external nofollow' class='url'>Gregor Dorfbauer</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/#comment-7317">
			2012/08/28 at 12:43</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>actually, the code used in production adds a ./watermark_all.sh just before the loop. I omitted it for clarity. Thanks for pointing this out!</p>
</div>

		<div class="reply">
					</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li>
</ul>
</li>
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-7316">
		<div id="comment-7316">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/b1179385d57ea353eac28e277649f929?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' align='' />			<cite class="fn">webreac</cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/#comment-7316">
			2012/08/28 at 12:40</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Your example has a race condition problem if a file is created during the watermarking. You should leave inotifywait outside of the loop using the -m options.</p>
<p>Something like (not tested):<br />
inotifywait -m -e create /home/user/pdfs | while read line ; do pdftk &#8220;$line&#8221; stamp data/letterhead.pdf output another_dir/&#8221;$line&#8221; allow printing compress ; done</p>
</div>

		<div class="reply">
					</div><!-- .reply -->
	</div><!-- #comment-##  -->

	<ul class='children'>
	<li class="comment byuser comment-author-gregi bypostauthor odd alt depth-2" id="li-comment-7318">
		<div id="comment-7318">
		<div class="comment-author vcard">
			<img src="http://blog.lagentz.com/wp-content/plugins/user-avatar/user-avatar-pic.php?src=http://blog.lagentz.com/wp-content/uploads/avatars/2/1298901201-bpfull.jpg&#038;w=40&#038;id=2&#038;random=1298901201" alt="" class=" avatar  avatar-40  photo user-2-avatar" width="40" height="40" />			<cite class="fn"><a href='http://www.lagentz.at' rel='external nofollow' class='url'>Gregor Dorfbauer</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/#comment-7318">
			2012/08/28 at 12:45</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Thanks for the input &#8211; I will have a deeper look into the monitor mode of inotifywait.</p>
<p>Additionally, I&#8217;ve missed the &#8220;move_to&#8221;, as files moved inside the watched directory don&#8217;t get &#8220;created&#8221;.<br />
To add this event, simple invoke inotifywait with -e create,move_to</p>
</div>

		<div class="reply">
					</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li>
</ul>
</li>
	<li class="comment even thread-even depth-1" id="li-comment-7319">
		<div id="comment-7319">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/9327c2b52c5f86b01f6301c55308282c?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' align='' />			<cite class="fn"><a href='http://william.nodejitsu.com/' rel='external nofollow' class='url'>William P. Riley-Land</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/#comment-7319">
			2012/08/28 at 14:38</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>This is an interesting idea for PDFs.  I might suggest it would be more manageable to use approaches like Cacti for logs and commit hooks for JSLint or other development tasks like running test suite or</p>
</div>

		<div class="reply">
					</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li>
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7345">
		<div id="comment-7345">
		<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/944977dde172ff8f21f356f013c27c9c?s=40&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' align='' />			<cite class="fn"><a href='http://sed.free.fr' rel='external nofollow' class='url'>SxDx</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/#comment-7345">
			2012/08/28 at 18:52</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>stop with auto-popup and moving crappy &#8220;try me&#8221; shit, it&#8217;s disturbing</p>
</div>

		<div class="reply">
					</div><!-- .reply -->
	</div><!-- #comment-##  -->

	<ul class='children'>
	<li class="comment byuser comment-author-gregi bypostauthor even depth-2" id="li-comment-7413">
		<div id="comment-7413">
		<div class="comment-author vcard">
			<img src="http://blog.lagentz.com/wp-content/plugins/user-avatar/user-avatar-pic.php?src=http://blog.lagentz.com/wp-content/uploads/avatars/2/1298901201-bpfull.jpg&#038;w=40&#038;id=2&#038;random=1298901201" alt="" class=" avatar  avatar-40  photo user-2-avatar" width="40" height="40" />			<cite class="fn"><a href='http://www.lagentz.at' rel='external nofollow' class='url'>Gregor Dorfbauer</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/#comment-7413">
			2012/08/29 at 11:36</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Thanks for the feedback &#8211; the blog is more focused on the content now.</p>
</div>

		<div class="reply">
					</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li>
</ul>
</li>
	<li class="comment odd alt thread-even depth-1" id="li-comment-7442">
		<div id="comment-7442">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/c7325f2fbf334e092323a6d8ee99f290?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' align='' />			<cite class="fn"><a href='http://chrislaskey.com' rel='external nofollow' class='url'>Chris Laskey</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/#comment-7442">
			2012/08/29 at 17:04</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Hey Gregor, thanks for the post. Informative and to the point.</p>
<p>One way to improve the code would be to use the inotifywait command&#8217;s &#8211;monitor flag. It keeps the inotifywait command alive instead of exiting after the first event without having to use an external &#8220;while true; do&#8221; loop.</p>
</div>

		<div class="reply">
					</div><!-- .reply -->
	</div><!-- #comment-##  -->

	<ul class='children'>
	<li class="comment byuser comment-author-gregi bypostauthor even depth-2" id="li-comment-7443">
		<div id="comment-7443">
		<div class="comment-author vcard">
			<img src="http://blog.lagentz.com/wp-content/plugins/user-avatar/user-avatar-pic.php?src=http://blog.lagentz.com/wp-content/uploads/avatars/2/1298901201-bpfull.jpg&#038;w=40&#038;id=2&#038;random=1298901201" alt="" class=" avatar  avatar-40  photo user-2-avatar" width="40" height="40" />			<cite class="fn"><a href='http://www.lagentz.at' rel='external nofollow' class='url'>Gregor Dorfbauer</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/#comment-7443">
			2012/08/29 at 17:43</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Thanks Chris! I&#8217;m always happy with optimizations <img src='http://blog.lagentz.com/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
</div>

		<div class="reply">
					</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li>
</ul>
</li>
	<li class="post pingback">
		<p>Pingback: <a href='http://benohead.com/linux-using-inotify-and-inotifywait-to-automate-shell-scripts/' rel='external nofollow' class='url'>Linux: Using inotify and inotifywait to automate shell scripts - Benohead&#039;s Software Blog | Benohead&#039;s Software Blog</a></p>
	</li>
	<li class="post pingback">
		<p>Pingback: <a href='http://www.fzydx.net' rel='external nofollow' class='url'>URL</a></p>
	</li>
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-15440">
		<div id="comment-15440">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/a53c9c40aa136a6c7266e2531a647101?s=40&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D40&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' align='' />			<cite class="fn"><a href='http://fiveholiday55.blogspot.com' rel='external nofollow' class='url'>Helen Neely</a></cite> <span class="says">says:</span>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata"><a href="http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/#comment-15440">
			2012/11/02 at 13:05</a>		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Thanks for this example on how to use the inotify. It&#8217;s given me ideas on a pet project <img src='http://blog.lagentz.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
</div>

		<div class="reply">
					</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li>
			</ol>



								
</div><!-- #comments -->


			</div><!-- #content -->
		</div><!-- #container -->


		<div id="primary" class="widget-area" role="complementary">
			<ul class="xoxo">

<li id="search-2" class="widget-container widget_search"><form role="search" method="get" id="searchform" action="http://blog.lagentz.com/" >
	<div><label class="screen-reader-text" for="s">Search for:</label>
	<input type="text" value="" name="s" id="s" />
	<input type="submit" id="searchsubmit" value="Search" />
	</div>
	</form></li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">La Gentz Blog</h3>			<div class="textwidget"><p>This blog is about our adventures in various technologies.<br />
We wrote many tools to make our lifes easier - why not make your life easier, too?</p>
<p>You might also like our latest tool: <b><a href="http://www.usersnap.com" target="_blank">Usersnap - the easiest way to get visual feedback!</a></b></p>
</div>
		</li><li id="linkcat-2" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://geekandpoke.typepad.com/" target="_blank">Geek and Poke</a></li>
<li><a href="http://howtonode.org/" target="_blank">How to Node</a></li>
<li><a href="http://www.zieglergasse.at/blog/" title="Mathias&#8217; Blog &#8211; All that money can[|&#039;t] buy" target="_blank">Mathias&#039; Blog</a></li>
<li><a href="http://www.sencha.com/blog/" target="_blank">Sencha Blog</a></li>
<li><a href="http://blog.usersnap.com" title="The brand new Usersnap Blog &#8211; it&#8217;s a fun read! Promised." target="_blank">Usersnap Blog</a></li>
<li><a href="http://xkcd.com/" target="_blank">xkcd</a></li>

	</ul>
</li>
<li id="linkcat-3" class="widget-container widget_links"><h3 class="widget-title">La Gentz Pages</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://www.lagentz.at/" title="The home of the writers!" target="_blank">La Gentz</a></li>
<li><a href="http://www.facebook.com/yorus" target="_blank">La Gentz at Facebook</a></li>
<li><a href="http://twitter.com/lagentz" target="_blank">La Gentz at Twitter</a></li>
<li><a href="http://usersnap.com" title="Usersnap &#8211; get visual feedback from your customers" target="_blank">Usersnap</a></li>
<li><a href="http://www.yorus-server.com/" title="Best in class file transfer by La Gentz" target="_blank">Yorus Server</a></li>

	</ul>
</li>
<li id="tag_cloud-3" class="widget-container widget_tag_cloud"><h3 class="widget-title">Tags</h3><div class="tagcloud"><a href='http://blog.lagentz.com/tag/android/' class='tag-link-8' title='1 topic' style='font-size: 8pt;'>Android</a>
<a href='http://blog.lagentz.com/tag/bash/' class='tag-link-65' title='2 topics' style='font-size: 13.25pt;'>bash</a>
<a href='http://blog.lagentz.com/tag/benchmarking/' class='tag-link-48' title='1 topic' style='font-size: 8pt;'>Benchmarking</a>
<a href='http://blog.lagentz.com/tag/browser/' class='tag-link-30' title='1 topic' style='font-size: 8pt;'>browser</a>
<a href='http://blog.lagentz.com/tag/c/' class='tag-link-32' title='1 topic' style='font-size: 8pt;'>C++</a>
<a href='http://blog.lagentz.com/tag/co2-neutral/' class='tag-link-36' title='1 topic' style='font-size: 8pt;'>CO2 neutral</a>
<a href='http://blog.lagentz.com/tag/crop/' class='tag-link-24' title='1 topic' style='font-size: 8pt;'>crop</a>
<a href='http://blog.lagentz.com/tag/data-center/' class='tag-link-35' title='1 topic' style='font-size: 8pt;'>data center</a>
<a href='http://blog.lagentz.com/tag/debugging/' class='tag-link-29' title='1 topic' style='font-size: 8pt;'>debugging</a>
<a href='http://blog.lagentz.com/tag/eclipse/' class='tag-link-13' title='1 topic' style='font-size: 8pt;'>eclipse</a>
<a href='http://blog.lagentz.com/tag/embedded/' class='tag-link-11' title='2 topics' style='font-size: 13.25pt;'>Embedded</a>
<a href='http://blog.lagentz.com/tag/green-it/' class='tag-link-34' title='1 topic' style='font-size: 8pt;'>Green IT</a>
<a href='http://blog.lagentz.com/tag/image/' class='tag-link-22' title='1 topic' style='font-size: 8pt;'>image</a>
<a href='http://blog.lagentz.com/tag/index/' class='tag-link-5' title='1 topic' style='font-size: 8pt;'>Index</a>
<a href='http://blog.lagentz.com/tag/javahl/' class='tag-link-18' title='1 topic' style='font-size: 8pt;'>javahl</a>
<a href='http://blog.lagentz.com/tag/javascript/' class='tag-link-6' title='3 topics' style='font-size: 16.75pt;'>JavaScript</a>
<a href='http://blog.lagentz.com/tag/json/' class='tag-link-28' title='2 topics' style='font-size: 13.25pt;'>JSON</a>
<a href='http://blog.lagentz.com/tag/kinect/' class='tag-link-41' title='1 topic' style='font-size: 8pt;'>Kinect</a>
<a href='http://blog.lagentz.com/tag/kvm/' class='tag-link-44' title='1 topic' style='font-size: 8pt;'>KVM</a>
<a href='http://blog.lagentz.com/tag/native/' class='tag-link-20' title='1 topic' style='font-size: 8pt;'>native</a>
<a href='http://blog.lagentz.com/tag/nodejs/' class='tag-link-25' title='2 topics' style='font-size: 13.25pt;'>nodejs</a>
<a href='http://blog.lagentz.com/tag/non-tech/' class='tag-link-4' title='1 topic' style='font-size: 8pt;'>Non-tech</a>
<a href='http://blog.lagentz.com/tag/parsing/' class='tag-link-38' title='1 topic' style='font-size: 8pt;'>parsing</a>
<a href='http://blog.lagentz.com/tag/phonegap/' class='tag-link-7' title='1 topic' style='font-size: 8pt;'>PhoneGap</a>
<a href='http://blog.lagentz.com/tag/polarion/' class='tag-link-19' title='1 topic' style='font-size: 8pt;'>polarion</a>
<a href='http://blog.lagentz.com/tag/proxy/' class='tag-link-27' title='1 topic' style='font-size: 8pt;'>proxy</a>
<a href='http://blog.lagentz.com/tag/pydev/' class='tag-link-16' title='1 topic' style='font-size: 8pt;'>pydev</a>
<a href='http://blog.lagentz.com/tag/python/' class='tag-link-12' title='5 topics' style='font-size: 22pt;'>Python</a>
<a href='http://blog.lagentz.com/tag/qt/' class='tag-link-10' title='2 topics' style='font-size: 13.25pt;'>Qt</a>
<a href='http://blog.lagentz.com/tag/rapid-application-development/' class='tag-link-39' title='1 topic' style='font-size: 8pt;'>rapid application development</a>
<a href='http://blog.lagentz.com/tag/resize/' class='tag-link-23' title='1 topic' style='font-size: 8pt;'>resize</a>
<a href='http://blog.lagentz.com/tag/snmp/' class='tag-link-49' title='1 topic' style='font-size: 8pt;'>SNMP</a>
<a href='http://blog.lagentz.com/tag/spket/' class='tag-link-15' title='1 topic' style='font-size: 8pt;'>spket</a>
<a href='http://blog.lagentz.com/tag/standalone/' class='tag-link-14' title='1 topic' style='font-size: 8pt;'>standalone</a>
<a href='http://blog.lagentz.com/tag/subversive/' class='tag-link-21' title='1 topic' style='font-size: 8pt;'>subversive</a>
<a href='http://blog.lagentz.com/tag/svn/' class='tag-link-17' title='2 topics' style='font-size: 13.25pt;'>svn</a>
<a href='http://blog.lagentz.com/tag/time/' class='tag-link-47' title='1 topic' style='font-size: 8pt;'>Time</a>
<a href='http://blog.lagentz.com/tag/ubuntu/' class='tag-link-42' title='1 topic' style='font-size: 8pt;'>Ubuntu</a>
<a href='http://blog.lagentz.com/tag/user-interface-2/' class='tag-link-43' title='1 topic' style='font-size: 8pt;'>User interface</a>
<a href='http://blog.lagentz.com/tag/virtualbox/' class='tag-link-45' title='1 topic' style='font-size: 8pt;'>VirtualBox</a>
<a href='http://blog.lagentz.com/tag/virtualization/' class='tag-link-46' title='1 topic' style='font-size: 8pt;'>Virtualization</a>
<a href='http://blog.lagentz.com/tag/visual-studio/' class='tag-link-33' title='1 topic' style='font-size: 8pt;'>Visual Studio</a>
<a href='http://blog.lagentz.com/tag/web-development/' class='tag-link-26' title='1 topic' style='font-size: 8pt;'>web development</a>
<a href='http://blog.lagentz.com/tag/windows/' class='tag-link-31' title='1 topic' style='font-size: 8pt;'>Windows</a>
<a href='http://blog.lagentz.com/tag/xml/' class='tag-link-37' title='1 topic' style='font-size: 8pt;'>xml</a></div>
</li><li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://blog.lagentz.com/2013/06/' title='June 2013'>June 2013</a></li>
	<li><a href='http://blog.lagentz.com/2012/08/' title='August 2012'>August 2012</a></li>
	<li><a href='http://blog.lagentz.com/2012/07/' title='July 2012'>July 2012</a></li>
	<li><a href='http://blog.lagentz.com/2011/11/' title='November 2011'>November 2011</a></li>
	<li><a href='http://blog.lagentz.com/2011/08/' title='August 2011'>August 2011</a></li>
	<li><a href='http://blog.lagentz.com/2011/07/' title='July 2011'>July 2011</a></li>
	<li><a href='http://blog.lagentz.com/2011/06/' title='June 2011'>June 2011</a></li>
	<li><a href='http://blog.lagentz.com/2011/04/' title='April 2011'>April 2011</a></li>
	<li><a href='http://blog.lagentz.com/2011/03/' title='March 2011'>March 2011</a></li>
	<li><a href='http://blog.lagentz.com/2011/02/' title='February 2011'>February 2011</a></li>
		</ul>
</li><li id="categories-2" class="widget-container widget_categories"><h3 class="widget-title">Categories</h3>		<ul>
	<li class="cat-item cat-item-9"><a href="http://blog.lagentz.com/category/embeddedqt/" title="View all posts filed under EmbeddedQt">EmbeddedQt</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://blog.lagentz.com/category/general/" title="View all posts filed under General">General</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://blog.lagentz.com/category/javascript/" title="View all posts filed under JavaScript">JavaScript</a>
</li>
	<li class="cat-item cat-item-25"><a href="http://blog.lagentz.com/category/nodejs/" title="View all posts filed under nodejs">nodejs</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://blog.lagentz.com/category/phonegap/" title="View all posts filed under PhoneGap">PhoneGap</a>
</li>
	<li class="cat-item cat-item-12"><a href="http://blog.lagentz.com/category/python/" title="View all posts filed under Python">Python</a>
</li>
	<li class="cat-item cat-item-40"><a href="http://blog.lagentz.com/category/user-interface/" title="View all posts filed under User-Interface">User-Interface</a>
</li>
		</ul>
</li><li id="pages-3" class="widget-container widget_pages"><h3 class="widget-title">About</h3>		<ul>
			<li class="page_item page-item-37"><a href="http://blog.lagentz.com/legal-information/" title="Contact / Legal Info">Contact / Legal Info</a></li>
		</ul>
		</li>			</ul>
		</div><!-- #primary .widget-area -->

	</div><!-- #main -->

	<div id="footer" role="contentinfo">
		<div id="colophon">



			<div id="site-info">
				<a href="http://blog.lagentz.com/" title="La Gentz Blog" rel="home">
					La Gentz Blog				</a>
			</div><!-- #site-info -->

			<div id="site-generator">
								<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">Proudly powered by WordPress.</a>
			</div><!-- #site-generator -->

		</div><!-- #colophon -->
	</div><!-- #footer -->

</div><!-- #wrapper -->

		<div id="apollo-bar" class="apb-hidden blue">
						<div class="apb-wrapper">
				<a class="apb-close" href="#" id="close">&times;</a>
				<div class="apb_message">
											<p><strong>Ready for a 15 day free Usersnap trial? </strong> <a title="Usersnap" href="https://usersnap.com/signup?utm_source=bluebar&amp;utm_medium=lgblog&amp;utm_campaign=cm&amp;gat=lgblog" target="_blank">Signup Here</a>!</p>
										</div>
			</div>
		</div>
		

<script type="text/javascript">//<![CDATA[
SyntaxHighlighter.all();
//]]></script>
</body>
</html>

<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Minified using disk: basic
Page Caching using disk: enhanced
Database Caching using disk: basic
Object Caching 1159/1373 objects using disk: basic

Served from: blog.lagentz.com @ 2014-01-27 15:41:18 -->